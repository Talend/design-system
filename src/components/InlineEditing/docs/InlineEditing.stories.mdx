import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { FigmaImage, FigmaLink } from '../../../docs';
import InlineEditing from '../';

<Meta
	title="Components/Inline Editing"
	decorators={[
		Story => (
			<div style={{ width: '300px' }}>
				<Story />
			</div>
		),
	]}
/>

<FigmaLink href="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/?node-id=58%3A0" />

# Inline Editing

User can perform inline editing by using inline form.

## Zoning

<FigmaImage
	src="https://www.figma.com/file/qc8oUSyVJM67gSsbTShftt/%F0%9F%93%90-Zoning?node-id=351%3A0"
	alt="zoning image for inline editing"
/>

## Style

### Variations

**Single line**

<Canvas>
	<Story name="Validated">
		<InlineEditing.Text defaultValue="Lorem Ipsum" />
	</Story>
</Canvas>

**Multi line**

<Canvas>
	<Story name="Enabled">
		<InlineEditing.Textarea defaultValue="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer in massa velit. Duis vestibulum lectus id lacinia aliquam. Aliquam erat volutpat. Donec dignissim augue eu eros blandit faucibus eu quis nulla. In hac habitasse platea dictumst. Ut egestas viverra sem, et dictum elit lacinia interdum. Vivamus accumsan pulvinar faucibus. Donec vestibulum mauris vitae sem lacinia, eget fringilla leo efficitur. In hac habitasse platea dictumst. Nullam consectetur nunc quis tortor congue imperdiet. Ut lobortis suscipit enim, in aliquet sem viverra ut. Sed finibus ex elit, quis ultricies nulla tincidunt sit amet. Maecenas gravida diam ex, vel aliquam tortor elementum et. Duis vitae ligula tristique est iaculis consequat. Nullam in ipsum turpis. Cras aliquam tellus quis turpis convallis, ut faucibus quam tincidunt." />
	</Story>
</Canvas>

## States

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=163%3A622"
	alt="states image for inline editing"
/>

### Loading mode

<Canvas>
	<Story name="in loading mode">
		<InlineEditing.Text label="Crawler name" defaultValue="Lorem ipsum dolor sit amet" loading />
	</Story>
</Canvas>

## Content

_to do_

## Interactions

The edit mode can be triggered by clicking on the pencil icon, or by double-clicking on the text.

### Tooltip

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=227%3A99"
	alt="inline form tooltip on hover"
/>

## Usage

<Canvas>
	<Story name="default">
		<InlineEditing.Text label="Crawler name" defaultValue="Lorem ipsum dolor sit amet" />
	</Story>
	<Story name="with an ellipsis">
		<InlineEditing.Text
			label="Crawler name"
			defaultValue="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nulla augue, fermentum ac scelerisque quis, aliquet et arcu. Nullam quis sem pulvinar, venenatis nunc vel, lobortis libero"
		/>
	</Story>
	<Story name="Textarea">
		<InlineEditing.Textarea label="Crawler name" defaultValue="Lorem ipsum dolor sit amet" />
	</Story>
	<Story name="Long text in Textarea">
		<InlineEditing.Textarea
			label="Crawler name"
			defaultValue="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nulla augue, fermentum ac scelerisque quis, aliquet et arcu. Nullam quis sem pulvinar, venenatis nunc vel, lobortis libero"
		/>
	</Story>
	<Story name="as H3">
		<InlineEditing.Text
			label="AS H3 Crawler name"
			defaultValue="Lorem ipsum dolor sit amet"
			renderValueAs="h3"
		/>
	</Story>
</Canvas>

## Accessibility

- In single ligne mode, press <kbd>Enter</kbd> to validate the edition
- Buttons can be focused by using <kbd>Tab</kbd>
- Press <kbd>Esc</kbd> to cancel the edition

Clicking outside the form will cancel the edition as well
